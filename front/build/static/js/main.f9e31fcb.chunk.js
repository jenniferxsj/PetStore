(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{17:function(e,t,c){},31:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),r=c(13),n=c.n(r),i=(c(30),c(31),c(4)),l=(c(17),c(5)),o=c.n(l),j=c(2),b=c(7),d=c(3),u=c(6),m=c(0);function x(e){var t=e.setUser,c=Object(d.f)(),s=Object(a.useState)({}),r=Object(i.a)(s,2),n=r[0],l=r[1],x=Object(a.useState)(""),h=Object(i.a)(x,2),O=h[0],p=h[1];function f(){return(f=Object(b.a)(o.a.mark((function e(a){var s,r,i,l,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),p(""),n.email){e.next=5;break}return p("Please input an email address!"),e.abrupt("return");case 5:if(n.pwd&&!(n.pwd.length<6)){e.next=8;break}return p("Password should not be less than 6 characters!"),e.abrupt("return");case 8:return s={method:"Post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=11,fetch("/api/login",s);case 11:if(200!==(r=e.sent).status){e.next=23;break}return e.next=15,fetch("/api/user/data");case 15:return i=e.sent,e.next=18,i.json();case 18:l=e.sent,t(l.username),c("/products"),e.next=27;break;case 23:return e.next=25,r.json();case 25:j=e.sent,p(j.msg||"Something went wrong, please try again!");case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("form",{onSubmit:function(e){return f.apply(this,arguments)},children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-Email-Login",children:" Email Address "}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"Input-Email-Login","aria-describedby":"emailHelp",name:"email",onChange:function(e){l(Object(j.a)(Object(j.a)({},n),{},{email:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-Password-Login",className:"form-label",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"Input-Password-Login",name:"pwd",onChange:function(e){l(Object(j.a)(Object(j.a)({},n),{},{pwd:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group register-margin headup",children:Object(m.jsx)("div",{className:"mb-3",children:O})}),Object(m.jsx)("button",{type:"submit",className:"btn btn-color btn-block",children:"Submit"}),Object(m.jsx)(u.b,{className:"link",to:"/register",children:"Don't have an account?"})]})}var h=function(e){var t=e.setUser;return Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"text-center col-12",children:[Object(m.jsx)("h1",{className:"title",children:"Login"}),Object(m.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(m.jsx)(x,{setUser:t})})]})})})};var O=function(e){var t=e.user,c=e.setUser,a=Object(d.f)(),s=function(){var e=Object(b.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/userLogout");case 2:return t=e.sent,e.next=5,t.json();case 5:"success"===e.sent.logout&&(c(""),alert("You've successfully logged out"),a("/"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark px-sm-3 font-setting",children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)(u.b,{to:"/",children:Object(m.jsx)("img",{src:"data:image/png;base64,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",alt:"A can of dog food",width:"25",height:"25",className:"d-inline-block align-text-top"})}),Object(m.jsx)("button",{className:"navbar-toggler collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(m.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(u.b,{to:"/",className:"nav-link","aria-current":"page",children:"Home"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(u.b,{to:"/products",className:"nav-link",children:"All Products"})}),!t&&Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(u.b,{to:"/login",className:"nav-link",children:"Sign in"})})]}),t&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{className:"text-white",children:["Hello, ",Object(m.jsx)("strong",{children:t})]}),Object(m.jsx)("i",{className:"fa fa-sign-out logout","aria-hidden":"true",onClick:s})]}),Object(m.jsx)("form",{className:"d-flex",children:Object(m.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"})}),Object(m.jsx)(u.b,{to:"/cart",className:"ml-auto",children:Object(m.jsxs)("button",{type:"button",className:"btn btn-light",children:[Object(m.jsx)("i",{className:"fas fa-cart-plus"}),"cart"]})})]})]})})};var p=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)([]),n=Object(i.a)(r,2),l=n[0],j=n[1],d=Object(a.useRef)(),x=Object(a.useRef)(!1);return Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.current){e.next=2;break}return e.abrupt("return");case 2:x.current=!0;try{""===c?setTimeout(Object(b.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.current=!1,e.next=3,fetch("/api/products");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,j(c.data);case 8:case"end":return e.stop()}}),e)}))),300):setTimeout(Object(b.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.current=!1,e.next=3,fetch("/api/products/".concat(c));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,j(a.data);case 8:case"end":return e.stop()}}),e)}))),300)}catch(t){console.log("Error: ",t)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"title",children:"Our Products"}),Object(m.jsx)("div",{className:"search-products row",children:Object(m.jsxs)("div",{className:"col-12",children:[Object(m.jsx)("label",{htmlFor:"search",children:"Search Products by Name: "}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"search",placeholder:"search...",ref:d,onChange:function(e){console.log("query: ",e.target.value),s(e.target.value)},value:c})]})}),Object(m.jsx)("div",{className:"row",children:l.map((function(e,t){return Object(m.jsx)("div",{className:"products col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12",children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("img",{className:"card-img-top",src:e.src,alt:"".concat(e.name)}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsx)("h2",{className:"card-title",children:e.name})}),Object(m.jsx)("p",{className:"card-text",children:e.price}),Object(m.jsx)(u.b,{to:"/product/".concat(e._id),className:"nav-link btn text-light","aria-current":"page",children:"View Product"})]})},t)}))})]})},f=c(41),g=c.p+"static/media/pet-stuff.7cc8b51f.jpg",v=c.p+"static/media/pet-stuff2.aafc06d4.jpg",N=c.p+"static/media/pet-stuff3.0562a3f6.jpg";var A=function(){return Object(m.jsxs)("div",{children:[Object(m.jsxs)(f.a,{children:[Object(m.jsx)(f.a.Item,{children:Object(m.jsx)("img",{src:v,alt:"Two dogs with their foods",className:"d-block w-100"})}),Object(m.jsx)(f.a.Item,{children:Object(m.jsx)("img",{src:N,alt:"Aninals with their foods",className:"d-block w-100"})}),Object(m.jsx)(f.a.Item,{children:Object(m.jsx)("img",{src:g,alt:"A lot of pets' toys",className:"d-block w-100"})})]}),Object(m.jsxs)("div",{className:"col align-self-center carts",children:[Object(m.jsx)("h1",{className:"title",children:"Welcome to the Store!"}),Object(m.jsx)("p",{children:"You can find everything you need here for your pets!"}),Object(m.jsx)(u.b,{to:"/login",children:Object(m.jsx)("button",{type:"button",className:"btn btn-color btn-primary btn-lg",children:"Start Shooping"})})]})]})};function w(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(""),n=Object(i.a)(r,2),l=n[0],x=n[1],h=Object(d.f)();function O(){return(O=Object(b.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x(""),c.firstName&&c.lastName){e.next=5;break}return x("First Name and Last Name cannot be null"),e.abrupt("return");case 5:if(c.userName){e.next=8;break}return x("User Name cannot be null"),e.abrupt("return");case 8:if(c.email||x("Please input an email address"),c.pwd&&!(c.pwd.length<6)){e.next=12;break}return x("Password should not less than 6 characters"),e.abrupt("return");case 12:return e.next=14,fetch("/api/register",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 14:if(200!==(a=e.sent).status){e.next=19;break}h("/login"),e.next=23;break;case 19:return e.next=21,a.json();case 21:s=e.sent,x(s.msg||"Something's went wrong, please try again");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("form",{onSubmit:function(e){return O.apply(this,arguments)},className:"font-setting",children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-FirstName",children:" First Name "}),Object(m.jsx)("input",{type:"firstName",className:"form-control",id:"Input-FirstName","aria-describedby":"firstName",name:"firstName",onChange:function(e){s(Object(j.a)(Object(j.a)({},c),{},{firstName:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-LastName",children:" Last Name "}),Object(m.jsx)("input",{type:"lastName",className:"form-control",id:"Input-LastName","aria-describedby":"lastName",name:"lastName",onChange:function(e){s(Object(j.a)(Object(j.a)({},c),{},{lastName:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-UserName",children:" User Name "}),Object(m.jsx)("input",{type:"userName",className:"form-control",id:"Input-UserName","aria-describedby":"userName",name:"userName",onChange:function(e){s(Object(j.a)(Object(j.a)({},c),{},{userName:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-Email",children:" Email Address "}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"Input-Email","aria-describedby":"emailHelp",name:"email",onChange:function(e){s(Object(j.a)(Object(j.a)({},c),{},{email:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-Password",className:"form-label",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"Input-Password",name:"pwd",onChange:function(e){s(Object(j.a)(Object(j.a)({},c),{},{pwd:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group register-margin headup",children:Object(m.jsx)("div",{className:"mb-3",children:l})}),Object(m.jsx)("button",{type:"submit",className:"btn btn-color btn-block",children:"Submit"}),Object(m.jsx)(u.b,{to:"/login",className:"link",children:"Already have an account?"})]})}var y=function(){return Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"text-center col-12 carts",children:[Object(m.jsx)("h1",{children:"Register"}),Object(m.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(m.jsx)(w,{})})]})})})},k=c(20);function C(e){var t=e.message;return Object(m.jsx)(k.a,{children:Object(m.jsx)(k.a.Body,{children:t})})}var S=function(){var e=Object(d.g)().id,t=Object(d.f)();console.log(e);var c=Object(a.useState)([]),s=Object(i.a)(c,2),r=s[0],n=s[1],l=Object(a.useState)(""),j=Object(i.a)(l,2),u=j[0],x=j[1];function h(){return(h=Object(b.a)(o.a.mark((function e(t){var c,a,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={id:r._id},a={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},e.next=5,fetch("/api/product/cart",a);case 5:return s=e.sent,e.next=8,s.json();case 8:n=e.sent,x(n.msg);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var t=function(){var t=Object(b.a)(o.a.mark((function t(){var c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/product/data/".concat(e));case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,console.log("PRODUCT: ",a),n(a.data),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(m.jsxs)("div",{className:"font-setting single-product",children:[Object(m.jsx)("h1",{className:"title",children:r.name}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"product-img col-6",children:Object(m.jsx)("img",{src:r.src,alt:"".concat(r.name)})}),Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsxs)("h3",{children:["Price: $",r.price]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Description: "}),r.description]}),Object(m.jsx)("form",{onSubmit:function(e){return h.apply(this,arguments)},children:Object(m.jsx)("button",{className:"btn btn-color",children:"Add To Cart"})}),Object(m.jsx)("button",{type:"button",className:"btn btn-color go-back",onClick:function(){t("/products")},children:"Go Back"})]})]}),Object(m.jsx)(C,{message:u})]})};function B(e){var t=e.carts,c=e.setCarts,s=Object(a.useState)({subtotal:0,tax:0,total:0}),r=Object(i.a)(s,2),n=r[0],l=r[1];function d(){return(d=Object(b.a)(o.a.mark((function e(t){var a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.item,e.next=3,fetch("/api/user/cart/deleteProduct/".concat(a._id));case 3:return e.next=5,e.sent.json();case 5:if("success"!==e.sent.delete){e.next=16;break}return e.next=9,fetch("/api/user/cart");case 9:return s=e.sent,e.next=12,s.json();case 12:r=e.sent,c(r.userCart),e.next=17;break;case 16:alert("Something's wrong, please try again!");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){var e=0;t.map((function(t){return e+=t.number*t.price}));var c=parseFloat((.09*e).toFixed(2)),a=c+e;l(Object(j.a)(Object(j.a)({},n),{},{subtotal:e.toFixed(2),tax:c,total:a.toFixed(2)}))}()}),[t]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-10 mx-auto text-center carts",children:Object(m.jsx)("h1",{children:"Your Cart"})})})}),Object(m.jsxs)("div",{className:"container-fluid carts-bottom",children:[Object(m.jsx)("div",{className:"text-center d-none d-lg-block carts",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Product Name"})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Price"})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Quantity"})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Remove"})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Total"})})]})}),t.map((function(e){return Object(m.jsxs)("div",{className:"row text-center cart-item",children:[Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:e.name}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:e.price}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:e.number}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:Object(m.jsx)("i",{className:"fas fa-trash remove",onClick:function(){return function(e){return d.apply(this,arguments)}({item:e})}})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:(e.price*e.number).toFixed(2)})]},e._id)})),Object(m.jsx)("div",{className:"col-10 mt-2 ml-sm-5 ml-sm-5 ml-md-auto total",children:Object(m.jsxs)("strong",{children:["Subtotal: ",n.subtotal]})}),Object(m.jsx)("div",{className:"col-10 mt-2 ml-sm-5 ml-sm-5 ml-md-auto total",children:Object(m.jsxs)("strong",{children:["Tax: ",n.tax]})}),Object(m.jsx)("div",{className:"col-10 mt-2 ml-sm-5 ml-sm-5 ml-md-auto total",children:Object(m.jsxs)("strong",{children:["Total: ",n.total]})})]})]})}function U(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/cart");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,s(c.userCart);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(m.jsxs)("div",{children:[0===c.length&&Object(m.jsx)(I,{}),0!==c.length&&Object(m.jsx)(B,{carts:c,setCarts:s})]})}function I(){return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-10 mx-auto text-center carts",children:[Object(m.jsx)("h1",{children:"Your cart is currently empty"}),Object(m.jsx)(u.b,{to:"/products",children:Object(m.jsx)("button",{type:"button",className:"btn btn-color btn-lg",children:"Explore Products"})})]})})})}function F(){return Object(m.jsx)("footer",{className:"align-item-center",children:Object(m.jsx)("p",{children:"\xa9 2021 copy right"})})}var Q=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(m.jsx)(u.a,{children:Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(O,{user:c,setUser:r}),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{exact:!0,path:"/",element:Object(m.jsx)(A,{})}),Object(m.jsx)(d.a,{path:"/login",element:Object(m.jsx)(h,{setUser:r})}),Object(m.jsx)(d.a,{path:"/products",element:Object(m.jsx)(p,{})}),Object(m.jsx)(d.a,{path:"/register",element:Object(m.jsx)(y,{})}),Object(m.jsx)(d.a,{path:"/product/:id",exact:!0,element:Object(m.jsx)(S,{})}),Object(m.jsx)(d.a,{path:"/cart",element:Object(m.jsx)(U,{})})]}),Object(m.jsx)(F,{})]})]})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,42)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,n=t.getTTFB;c(e),a(e),s(e),r(e),n(e)}))};n.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(Q,{})}),document.getElementById("root")),M()}},[[38,1,2]]]);
//# sourceMappingURL=main.f9e31fcb.chunk.js.map