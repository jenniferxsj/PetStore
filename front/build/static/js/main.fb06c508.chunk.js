(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{14:function(e,t,c){},27:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(10),r=c.n(n),i=(c(26),c(27),c(5)),l=c.n(i),o=c(6),j=c(4),u=(c(14),c(2)),d=c(3),b=c(7),m=c(0);function h(e){var t=e.setUser,c=Object(d.f)(),s=Object(a.useState)({}),n=Object(j.a)(s,2),r=n[0],i=n[1],h=Object(a.useState)(""),p=Object(j.a)(h,2),x=p[0],O=p[1];function f(){return(f=Object(o.a)(l.a.mark((function e(a){var s,n,i,o,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),O(""),r.email){e.next=5;break}return O("Please input an email address!"),e.abrupt("return");case 5:if(r.pwd&&!(r.pwd.length<6)){e.next=8;break}return O("Password should not be less than 6 characters!"),e.abrupt("return");case 8:return s={method:"Post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.next=11,fetch("/api/login",s);case 11:if(200!==(n=e.sent).status){e.next=23;break}return e.next=15,fetch("/api/user/data");case 15:return i=e.sent,e.next=18,i.json();case 18:o=e.sent,t(o.username),c("/products"),e.next=27;break;case 23:return e.next=25,n.json();case 25:j=e.sent,O(j.msg||"Something went wrong, please try again!");case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("form",{onSubmit:function(e){return f.apply(this,arguments)},children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-Email-Login",children:" Email Address "}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"Input-Email-Login","aria-describedby":"emailHelp",name:"email",onChange:function(e){i(Object(u.a)(Object(u.a)({},r),{},{email:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-Password-Login",className:"form-label",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"Input-Password-Login",name:"pwd",onChange:function(e){i(Object(u.a)(Object(u.a)({},r),{},{pwd:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group register-margin headup",children:Object(m.jsx)("div",{className:"mb-3",children:x})}),Object(m.jsx)("button",{type:"submit",className:"btn btn-color btn-block",children:"Submit"}),Object(m.jsx)(b.b,{className:"link",to:"/register",children:"Don't have an account?"})]})}var p=function(e){var t=e.setUser;return Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"text-center col-12",children:[Object(m.jsx)("h1",{className:"title",children:"Login"}),Object(m.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(m.jsx)(h,{setUser:t})})]})})})};var x=function(e){var t=e.user,c=e.setUser,a=Object(d.f)(),s=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/userLogout");case 2:return t=e.sent,e.next=5,t.json();case 5:"success"===e.sent.logout&&(c(""),alert("You've successfully logged out"),a("/"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark px-sm-3 font-setting",children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)(b.b,{to:"/",children:Object(m.jsx)("img",{src:"data:image/png;base64,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",alt:"A can of dog food",width:"25",height:"25",className:"d-inline-block align-text-top"})}),Object(m.jsx)("button",{className:"navbar-toggler collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(m.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(b.b,{to:"/",className:"nav-link","aria-current":"true",style:{color:"#F2F2F2"},children:"Home"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(b.b,{to:"/products",className:"nav-link",style:{color:"#F2F2F2"},children:"All Products"})}),!t&&Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(b.b,{to:"/login",className:"nav-link",style:{color:"#F2F2F2"},children:"Sign in"})})]}),t&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{className:"text-white",children:["Hello, ",Object(m.jsx)("strong",{children:t})]}),Object(m.jsx)("i",{className:"fa fa-sign-out logout","aria-hidden":"true",onClick:s})]}),Object(m.jsx)(b.b,{to:"/cart",className:"ml-auto",children:Object(m.jsxs)("button",{type:"button",className:"btn btn-light",children:[Object(m.jsx)("i",{className:"fas fa-cart-plus"}),"cart"]})})]})]})})},O=null;var f=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(j.a)(n,2),i=r[0],u=r[1];return Object(a.useEffect)((function(){var e,t=function(){var e=Object(o.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetching data"),t="/api/products/filter".concat(""===i?"":"?filter="+i),e.next=5,fetch(t);case 5:return c=e.sent,e.next=8,c.json();case 8:a=e.sent,s(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Error: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e=t,O&&(console.log("too fast canceling"),clearTimeout(O)),O=setTimeout((function(){console.log("enough time, running it"),O=null,e()}),300)}),[i]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"title",children:"Our Products"}),Object(m.jsx)("div",{className:"filter-products row",children:Object(m.jsx)("div",{className:"col-12",children:Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault();for(var t=[document.getElementById("Input-Check-Dog"),document.getElementById("Input-Check-Cat")],c=[],a=0;a<t.length;a++)t[a].checked&&c.push(t[a].value);0===c.length&&(c=[""]),u(c)},children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"offset-3 col-1",children:Object(m.jsxs)("div",{className:"form-check",children:[Object(m.jsx)("input",{className:"form-check-input",type:"checkbox",value:"dog",id:"Input-Check-Dog"}),Object(m.jsx)("label",{className:"form-check-label",htmlFor:"Input-Check-Dog",children:"Dogs"})]})}),Object(m.jsx)("div",{className:"col-1",children:Object(m.jsxs)("div",{className:"form-check",children:[Object(m.jsx)("input",{className:"form-check-input",type:"checkbox",value:"cat",id:"Input-Check-Cat"}),Object(m.jsx)("label",{className:"form-check-label",htmlFor:"Input-Check-Cat",children:"Cats"})]})}),Object(m.jsx)("div",{className:"col-2",children:Object(m.jsx)("button",{type:"submit",className:"btn btn-color btn-sm",children:"Filter"})})]})})})}),Object(m.jsx)("div",{className:"row",children:c.map((function(e,t){return Object(m.jsx)("div",{className:"products col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12",children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("img",{className:"card-img-top",src:e.src,alt:"".concat(e.name)}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsx)("h2",{className:"card-title",children:e.name})}),Object(m.jsx)("p",{className:"card-text",children:e.price}),Object(m.jsx)(b.b,{to:"/product/".concat(e._id),className:"nav-link btn text-light","aria-current":"page",children:"View Product"})]})},t)}))})]})},g=c(37),v=c.p+"static/media/pet-stuff.7cc8b51f.jpg",N=c.p+"static/media/pet-stuff2.aafc06d4.jpg",y=c.p+"static/media/pet-stuff3.0562a3f6.jpg";var w=function(){var e=[{pic:N,description:"Two dogs with their foods",src:"http://bpic.588ku.com/back_pic/05/56/59/935b1df7ac940e9.jpg"},{pic:y,description:"Aninals with their foods",src:"http://bpic.588ku.com/back_pic/05/61/34/495b486a717e682.jpg"},{pic:v,description:"A lot of pets' toys",src:"https://image.baidu.com/search/detail?ct=503316480&z=&tn=baiduimagedetail&ipn=d&word=%E5%AE%A0%E7%89%A9%E7%94%A8%E5%93%81&step_word=&ie=utf-8&in=&cl=2&lm=-1&st=-1&hd=undefined&latest=undefined&copyright=undefined&cs=1337506148,3836280766&os=813629518,2583929594&simid=4181721010,674743188&pn=35&rn=1&di=83930&ln=1922&fr=&fmq=1638916223620_R&fm=index&ic=0&s=undefined&se=&sme=&tab=0&width=&height=&face=undefined&is=0,0&istype=2&ist=&jit=&bdtype=0&spn=0&pi=0&gsm=0&objurl=https%3A%2F%2Fgimg2.baidu.com%2Fimage_search%2Fsrc%3Dhttp%253A%252F%252Fwww.pet18.com%252FUploadFiles%252FFCK%252F2018-11%252F4%25287%2529.jpg%26refer%3Dhttp%253A%252F%252Fwww.pet18.com%26app%3D2002%26size%3Df9999%2C10000%26q%3Da80%26n%3D0%26g%3D0n%26fmt%3Djpeg%3Fsec%3D1641508225%26t%3D48590060915f3686d228f55e4eea6825&rpstart=0&rpnum=0&adpicid=0&nojc=undefined&ctd=1638917809622^3_1439X910%1"}];return Object(m.jsxs)("div",{children:[Object(m.jsx)(g.a,{children:e.map((function(e){return Object(m.jsxs)(g.a.Item,{children:[Object(m.jsx)("img",{src:e.pic,alt:e.description,className:"d-block w-100"}),Object(m.jsx)(g.a.Caption,{children:Object(m.jsxs)("p",{className:"carousal-text",children:["Picture Source Link"," ",Object(m.jsx)("a",{href:e.src,target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)("i",{className:"fas fa-external-link-alt"})})]})})]},e.pic)}))}),Object(m.jsxs)("div",{className:"col align-self-center carts",children:[Object(m.jsx)("h1",{className:"title",children:"Welcome to the Store!"}),Object(m.jsx)("p",{children:"You can find everything you need here for your pets!"}),Object(m.jsx)(b.b,{to:"/products",children:Object(m.jsx)("button",{type:"button",className:"btn btn-color btn-lg text-light",children:"Start Shooping"})})]})]})};var A=function(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),r=Object(j.a)(n,2),i=r[0],h=r[1],p=Object(d.f)();function x(){return(x=Object(o.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h(""),c.firstName&&c.lastName){e.next=5;break}return h("First Name and Last Name cannot be null"),e.abrupt("return");case 5:if(c.userName){e.next=8;break}return h("User Name cannot be null"),e.abrupt("return");case 8:if(c.email||h("Please input an email address"),c.pwd&&!(c.pwd.length<6)){e.next=12;break}return h("Password should not less than 6 characters"),e.abrupt("return");case 12:return e.next=14,fetch("/api/register",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 14:if(200!==(a=e.sent).status){e.next=19;break}p("/login"),e.next=23;break;case 19:return e.next=21,a.json();case 21:s=e.sent,h(s.msg||"Something's went wrong, please try again");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("form",{onSubmit:function(e){return x.apply(this,arguments)},className:"font-setting",children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-FirstName",children:" First Name "}),Object(m.jsx)("input",{type:"firstName",className:"form-control",id:"Input-FirstName","aria-describedby":"firstName",name:"firstName",onChange:function(e){s(Object(u.a)(Object(u.a)({},c),{},{firstName:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-LastName",children:" Last Name "}),Object(m.jsx)("input",{type:"lastName",className:"form-control",id:"Input-LastName","aria-describedby":"lastName",name:"lastName",onChange:function(e){s(Object(u.a)(Object(u.a)({},c),{},{lastName:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-UserName",children:" User Name "}),Object(m.jsx)("input",{type:"userName",className:"form-control",id:"Input-UserName","aria-describedby":"userName",name:"userName",onChange:function(e){s(Object(u.a)(Object(u.a)({},c),{},{userName:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-Email",children:" Email Address "}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"Input-Email","aria-describedby":"emailHelp",name:"email",onChange:function(e){s(Object(u.a)(Object(u.a)({},c),{},{email:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-Password",className:"form-label",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control",id:"Input-Password",name:"pwd",onChange:function(e){s(Object(u.a)(Object(u.a)({},c),{},{pwd:e.target.value}))}})]})}),Object(m.jsx)("div",{className:"form-group register-margin headup",children:Object(m.jsx)("div",{className:"mb-3",children:i})}),Object(m.jsx)("button",{type:"submit",className:"btn btn-color btn-block",children:"Submit"}),Object(m.jsx)(b.b,{to:"/login",className:"link",children:"Already have an account?"})]})};var k=function(){return Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"text-center col-12 carts",children:[Object(m.jsx)("h1",{children:"Register"}),Object(m.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(m.jsx)(A,{})})]})})})};var C=function(){var e=Object(d.g)().id,t=Object(d.f)(),c=Object(a.useState)([]),s=Object(j.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)({}),b=Object(j.a)(i,2),h=(b[0],b[1],Object(a.useState)(["Choose Rating","1","2","3","4","5"])),p=Object(j.a)(h,2),x=p[0],O=(p[1],Object(a.useState)({content:""})),f=Object(j.a)(O,2),g=f[0],v=f[1],N=Object(a.useState)(""),y=Object(j.a)(N,2),w=y[0],A=y[1];function k(){return(k=Object(o.a)(l.a.mark((function e(t){var c,a,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((c=document.getElementById("Input-Quantity-Product")).value<1||c.value>100)){e.next=7;break}return C({msg:"Enter a valid quantity!"}),e.abrupt("return");case 7:console.log("quantity valid!");case 8:return a={id:n._id},s={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},e.next=12,fetch("/api/product/cart",s);case 12:return r=e.sent,e.next=15,r.json();case 15:e.sent,C({msg:"Successful add to the cart"});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t=document.getElementById("cart-message");"none"===t.style.display&&(t.style.display="block"),t.innerHTML=e.msg,setTimeout((function(){t.style.display="none"}),3e3)}function F(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"0"!==(c=document.getElementById("Input-Select")).value){e.next=5;break}return A("Please give this product a rating!"),e.abrupt("return");case 5:if(g.content){e.next=8;break}return A("Please write your review content!"),e.abrupt("return");case 8:console.log("REVIEW REQUIREMENTS MET!"),console.log(c.value),console.log(g.content);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){var t=function(){var t=Object(o.a)(l.a.mark((function t(){var c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/product/data/".concat(e));case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,console.log("PRODUCT: ",a),r(a.data),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]);var S=x.map((function(e){return e}));function B(){return Object(m.jsx)("hr",{className:"my-4"})}return Object(m.jsxs)("div",{className:"font-setting single-product",children:[Object(m.jsx)("h1",{className:"title",children:n.name}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-12",children:Object(m.jsx)("span",{id:"cart-message"})})}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"product-img col-6",children:Object(m.jsx)("img",{src:n.src,alt:"".concat(n.name)})}),Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsxs)("h3",{children:["Price: $",n.price]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Description: "}),n.description]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"Input-Quantity-Product",className:"form-label",children:"Add Quantity"}),Object(m.jsx)("input",{type:"number",className:"form-control",id:"Input-Quantity-Product",name:"quantity"})]})}),Object(m.jsx)("button",{className:"btn btn-color btn-block",children:"Add To Cart"})]}),Object(m.jsx)("button",{type:"button",className:"btn btn-color btn-block go-back",onClick:function(){t("/products")},children:"Go Back"})]})]})]}),Object(m.jsx)(B,{}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-12",children:Object(m.jsx)("h3",{children:"Product Reviews"})}),Object(m.jsxs)("div",{className:"col-12",children:[Object(m.jsx)("h3",{children:"Add Review"}),Object(m.jsx)("div",{className:"form-group register-margin headup",children:Object(m.jsx)("div",{className:"mb-3",children:w})}),Object(m.jsxs)("form",{onSubmit:F,children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("select",{className:"form-select mb-3",id:"Input-Select",name:"select",onChange:function(e){return function(e){console.log(x[e.target.value])}(e)},children:S.map((function(e,t){return Object(m.jsx)("option",{value:t,children:e},t)}))})}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"content",children:"Content"}),Object(m.jsx)("textarea",{className:"form-control",name:"content",id:"Input-Content",rows:"3",type:"text",onChange:function(e){return v(Object(u.a)(Object(u.a)({},g),{},{content:e.target.value}))},value:g.content})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-color btn-block mt-2",children:"Add Review"})]})]})]})]})};function F(e){var t=e.carts,c=e.setCarts,s=Object(a.useState)({subtotal:0,tax:0,total:0}),n=Object(j.a)(s,2),r=n[0],i=n[1];function d(){return(d=Object(o.a)(l.a.mark((function e(t){var a,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.item,e.next=3,fetch("/api/user/cart/deleteProduct/".concat(a._id));case 3:return e.next=5,e.sent.json();case 5:if("success"!==e.sent.delete){e.next=16;break}return e.next=9,fetch("/api/user/cart");case 9:return s=e.sent,e.next=12,s.json();case 12:n=e.sent,c(n.userCart),e.next=17;break;case 16:alert("Something's wrong, please try again!");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(l.a.mark((function e(t,a){var s,n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.item,console.log("start val:",a),e.next=4,fetch("/api/user/cart/".concat(s._id,"/").concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:if("success"!==e.sent.change){e.next=19;break}return e.next=11,fetch("/api/user/cart");case 11:return r=e.sent,e.next=14,r.json();case 14:i=e.sent,c(i.userCart),console.log("end"),e.next=20;break;case 19:alert("Something's wrong, please try again!");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){var e=0;t.map((function(t){return e+=t.number*t.price}));var c=parseFloat((.09*e).toFixed(2)),a=c+e;i(Object(u.a)(Object(u.a)({},r),{},{subtotal:e.toFixed(2),tax:c,total:a.toFixed(2)}))}()}),[t]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-10 mx-auto text-center carts",children:Object(m.jsx)("h1",{children:"Your Cart"})})})}),Object(m.jsxs)("div",{className:"container-fluid carts-bottom",children:[Object(m.jsx)("div",{className:"text-center d-none d-lg-block carts",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Product"})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Product Name"})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Price"})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Quantity"})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Remove"})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2",children:Object(m.jsx)("p",{children:"Total"})})]})}),t.map((function(e){return Object(m.jsxs)("div",{className:"row text-center cart-item",children:[Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:Object(m.jsx)("img",{src:e.image,style:{width:"5rem",height:"5rem"},className:"img-fluid",alt:e.name})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:e.name}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:e.price}),Object(m.jsxs)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:[Object(m.jsx)("span",{className:"btn",children:Object(m.jsx)("i",{className:"fas fa-minus",onClick:function(){return b({item:e},-1)}})}),e.number,Object(m.jsx)("span",{className:"btn",children:Object(m.jsx)("i",{className:"fas fa-plus",onClick:function(){return b({item:e},1)}})})]}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:Object(m.jsx)("i",{className:"fas fa-trash remove",onClick:function(){return function(e){return d.apply(this,arguments)}({item:e})}})}),Object(m.jsx)("div",{className:"col-10 mx-auto col-lg-2 cart-item",children:(e.price*e.number).toFixed(2)})]},e._id)})),Object(m.jsx)("div",{className:"col-10 mt-2 ml-sm-5 ml-sm-5 ml-md-auto total",children:Object(m.jsxs)("strong",{children:["Subtotal: $",r.subtotal]})}),Object(m.jsx)("div",{className:"col-10 mt-2 ml-sm-5 ml-sm-5 ml-md-auto total",children:Object(m.jsxs)("strong",{children:["Tax: $",r.tax]})}),Object(m.jsx)("div",{className:"col-10 mt-2 ml-sm-5 ml-sm-5 ml-md-auto total",children:Object(m.jsxs)("strong",{children:["Total: $",r.total]})})]})]})}function I(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/cart");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,s(c.userCart);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),0!==c.length?Object(m.jsx)(F,{carts:c,setCarts:s}):Object(m.jsx)(S,{})}function S(){return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-10 mx-auto text-center carts",children:[Object(m.jsx)("h1",{children:"Your cart is currently empty"}),Object(m.jsx)(b.b,{to:"/products",children:Object(m.jsx)("button",{type:"button",className:"btn btn-color btn-lg",children:"Explore Products"})})]})})})}function B(){return Object(m.jsx)("footer",{className:"align-item-center",children:Object(m.jsx)("p",{children:"\xa9 2021 copy right"})})}var E=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/data");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,n(c.username);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(m.jsx)(b.a,{children:Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(x,{user:c,setUser:n}),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{exact:!0,path:"/",element:Object(m.jsx)(w,{})}),Object(m.jsx)(d.a,{path:"/login",element:Object(m.jsx)(p,{setUser:n})}),Object(m.jsx)(d.a,{path:"/products",element:Object(m.jsx)(f,{})}),Object(m.jsx)(d.a,{path:"/register",element:Object(m.jsx)(k,{})}),Object(m.jsx)(d.a,{path:"/product/:id",exact:!0,element:Object(m.jsx)(C,{})}),Object(m.jsx)(d.a,{path:"/cart",element:Object(m.jsx)(I,{})})]}),Object(m.jsx)(B,{})]})]})})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,38)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),U()}},[[34,1,2]]]);
//# sourceMappingURL=main.fb06c508.chunk.js.map